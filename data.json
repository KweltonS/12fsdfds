{"project":["–ù–æ–≤—ã–π –ø—Ä–æ–µ–∫—Ç",null,[[[0,false,true,true,true,false,false,true,false,false,true,false,false,true,false,false,true,true,false,1,""],[1,false,true,true,true,false,false,true,false,false,true,false,false,true,false,false,true,true,false,1,""]],[]],[["HTML–≠–ª–µ–º–µ–Ω—Ç",0,false,[],0,0,null,null,[],false,false,208942920487681,[],null,0,null],["iframe",1,false,[],0,0,null,null,[],false,false,652167104281787,[],null,1,null]],[],[["–ú–∞–∫–µ—Ç 1",3840,2160,false,false,0.5,0.5,"–°–ø–∏—Å–æ–∫ —Å–æ–±—ã—Ç–∏–π 1",208371355282568,[["–°–ª–æ–π 0",0,379596381702944,true,[94,94,94],false,1,1,1,false,false,1,0,true,[[[0,0,0,1920,1080,0,0,[1,1,1,1],0,0,0,0,[],null,null,null,["",""]],1,2,[],[],["","<!DOCTYPE html>\n<html lang=\"ru\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>–£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π –∞—É–¥–∏–æ–ø–ª–µ–µ—Ä</title>\n    <style>\n        body {\n            font-family: Arial, sans-serif;\n            margin: 0;\n            padding: 20px;\n            background: #f0f0f0;\n        }\n        .container {\n            max-width: 800px;\n            margin: 0 auto;\n            background: white;\n            border-radius: 10px;\n            padding: 20px;\n            box-shadow: 0 2px 10px rgba(0,0,0,0.1);\n        }\n        .controls {\n            margin: 20px 0;\n            display: flex;\n            gap: 10px;\n            flex-wrap: wrap;\n        }\n        button {\n            padding: 10px 15px;\n            border: none;\n            border-radius: 5px;\n            background: #007cba;\n            color: white;\n            cursor: pointer;\n        }\n        button:hover {\n            background: #005a87;\n        }\n        .nw-only {\n            display: none;\n        }\n        .playlist {\n            border: 1px solid #ddd;\n            border-radius: 5px;\n            max-height: 300px;\n            overflow-y: auto;\n            margin: 20px 0;\n        }\n        .track-item {\n            padding: 10px;\n            border-bottom: 1px solid #eee;\n            cursor: pointer;\n            display: flex;\n            justify-content: space-between;\n            align-items: center;\n        }\n        .track-item:hover {\n            background: #f5f5f5;\n        }\n        .track-item.playing {\n            background: #e3f2fd;\n        }\n        .current-track {\n            background: #34495e;\n            color: white;\n            padding: 15px;\n            border-radius: 5px;\n            margin: 10px 0;\n            text-align: center;\n        }\n        .progress {\n            width: 100%;\n            margin: 10px 0;\n        }\n        .time {\n            display: flex;\n            justify-content: space-between;\n            font-size: 12px;\n            color: #666;\n        }\n        .environment {\n            background: #e7f3ff;\n            padding: 10px;\n            border-radius: 5px;\n            margin: 10px 0;\n            text-align: center;\n            font-size: 14px;\n        }\n        .delete-btn {\n            background: #e74c3c;\n            color: white;\n            border: none;\n            padding: 5px 10px;\n            border-radius: 3px;\n            cursor: pointer;\n            font-size: 12px;\n        }\n    </style>\n</head>\n<body>\n    <div class=\"container\">\n        <h1>üéµ –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π –∞—É–¥–∏–æ–ø–ª–µ–µ—Ä</h1>\n        \n        <div class=\"environment\" id=\"environmentInfo\">\n            –ó–∞–≥—Ä—É–∑–∫–∞...\n        </div>\n        \n        <div class=\"controls\">\n            <button onclick=\"addFiles()\">‚ûï –î–æ–±–∞–≤–∏—Ç—å —Ñ–∞–π–ª—ã</button>\n            <button onclick=\"addFolder()\" class=\"nw-only\">üìÅ –î–æ–±–∞–≤–∏—Ç—å –ø–∞–ø–∫—É (NW.js)</button>\n            <button onclick=\"clearPlaylist()\">üóëÔ∏è –û—á–∏—Å—Ç–∏—Ç—å –ø–ª–µ–π–ª–∏—Å—Ç</button>\n            <button onclick=\"exportPlaylist()\">üíæ –≠–∫—Å–ø–æ—Ä—Ç –ø–ª–µ–π–ª–∏—Å—Ç–∞</button>\n        </div>\n\n        <div class=\"current-track\" id=\"currentTrack\">\n            –í—ã–±–µ—Ä–∏—Ç–µ —Ç—Ä–µ–∫ –¥–ª—è –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è\n        </div>\n\n        <audio id=\"audioPlayer\" controls style=\"width: 100%;\"></audio>\n\n        <div class=\"progress\">\n            <input type=\"range\" id=\"progressBar\" value=\"0\" style=\"width: 100%;\">\n            <div class=\"time\">\n                <span id=\"currentTime\">0:00</span>\n                <span id=\"duration\">0:00</span>\n            </div>\n        </div>\n\n        <div class=\"controls\">\n            <button onclick=\"playPause()\">‚ñ∂Ô∏è –í–æ—Å–ø—Ä–æ–∏–∑–≤–µ—Å—Ç–∏/–ü–∞—É–∑–∞</button>\n            <button onclick=\"previous()\">‚èÆ –ù–∞–∑–∞–¥</button>\n            <button onclick=\"next()\">‚è≠ –í–ø–µ—Ä–µ–¥</button>\n            <button onclick=\"setVolume(0.3)\">üîà –¢–∏—à–µ</button>\n            <button onclick=\"setVolume(1)\">üîä –ì—Ä–æ–º—á–µ</button>\n        </div>\n\n        <h3>–ü–ª–µ–π–ª–∏—Å—Ç (<span id=\"trackCount\">0</span> —Ç—Ä–µ–∫–æ–≤):</h3>\n        <div class=\"playlist\" id=\"playlist\">\n            <div style=\"padding: 20px; text-align: center; color: #666;\">\n                –ü–ª–µ–π–ª–∏—Å—Ç –ø—É—Å—Ç. –î–æ–±–∞–≤—å—Ç–µ –º—É–∑—ã–∫—É!\n            </div>\n        </div>\n    </div>\n\n    <script>\n        // –ì–ª–æ–±–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ\n        let playlist = [];\n        let currentTrackIndex = -1;\n        let audioPlayer = document.getElementById('audioPlayer');\n        let isNWjs = false;\n\n        // –û–ø—Ä–µ–¥–µ–ª—è–µ–º —Å—Ä–µ–¥—É –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è\n        function detectEnvironment() {\n            if (typeof nw !== 'undefined') {\n                isNWjs = true;\n                document.getElementById('environmentInfo').textContent = \n                    'üíª –†–µ–∂–∏–º: NW.js (–¥–æ—Å—Ç—É–ø –∫ —Ñ–∞–π–ª–æ–≤–æ–π —Å–∏—Å—Ç–µ–º–µ)';\n                // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º NW.js —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–µ –∫–Ω–æ–ø–∫–∏\n                document.querySelectorAll('.nw-only').forEach(el => {\n                    el.style.display = 'inline-block';\n                });\n            } else {\n                isNWjs = false;\n                document.getElementById('environmentInfo').textContent = \n                    'üåê –†–µ–∂–∏–º: –ë—Ä–∞—É–∑–µ—Ä (—Ñ–∞–π–ª—ã —Ö—Ä–∞–Ω—è—Ç—Å—è –≤—Ä–µ–º–µ–Ω–Ω–æ)';\n            }\n        }\n\n        // –§—É–Ω–∫—Ü–∏–∏ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å —Ñ–∞–π–ª–∞–º–∏\n        function addFiles() {\n            const input = document.createElement('input');\n            input.type = 'file';\n            input.accept = 'audio/*';\n            input.multiple = true;\n            input.onchange = function(e) {\n                if (isNWjs) {\n                    // NW.js —Ä–µ–∂–∏–º - —Å–æ—Ö—Ä–∞–Ω—è–µ–º –ø—É—Ç–∏\n                    for (let file of e.target.files) {\n                        addTrackToPlaylist({\n                            type: 'path',\n                            path: file.path,\n                            name: file.name,\n                            duration: '0:00'\n                        });\n                    }\n                } else {\n                    // –ë—Ä–∞—É–∑–µ—Ä —Ä–µ–∂–∏–º - —Å–æ—Ö—Ä–∞–Ω—è–µ–º —Ñ–∞–π–ª—ã\n                    for (let file of e.target.files) {\n                        addTrackToPlaylist({\n                            type: 'file',\n                            file: file,\n                            name: file.name,\n                            url: URL.createObjectURL(file),\n                            duration: '0:00'\n                        });\n                    }\n                }\n                savePlaylist();\n                renderPlaylist();\n            };\n            input.click();\n        }\n\n        function addFolder() {\n            if (!isNWjs) {\n                alert('–î–æ–±–∞–≤–ª–µ–Ω–∏–µ –ø–∞–ø–æ–∫ –¥–æ—Å—Ç—É–ø–Ω–æ —Ç–æ–ª—å–∫–æ –≤ NW.js');\n                return;\n            }\n            \n            const input = document.createElement('input');\n            input.type = 'file';\n            input.webkitdirectory = true;\n            input.onchange = function(e) {\n                for (let file of e.target.files) {\n                    if (file.type.startsWith('audio/')) {\n                        addTrackToPlaylist({\n                            type: 'path',\n                            path: file.path,\n                            name: file.name,\n                            duration: '0:00'\n                        });\n                    }\n                }\n                savePlaylist();\n                renderPlaylist();\n            };\n            input.click();\n        }\n\n        function addTrackToPlaylist(trackData) {\n            // –ü—Ä–æ–≤–µ—Ä—è–µ–º, –Ω–µ—Ç –ª–∏ —É–∂–µ —Ç–∞–∫–æ–≥–æ —Ç—Ä–µ–∫–∞\n            const exists = playlist.some(track => {\n                if (isNWjs) {\n                    return track.path === trackData.path;\n                } else {\n                    return track.name === trackData.name && track.file.size === trackData.file.size;\n                }\n            });\n            \n            if (!exists) {\n                playlist.push(trackData);\n            }\n        }\n\n        function playTrack(index) {\n            if (index < 0 || index >= playlist.length) return;\n            \n            currentTrackIndex = index;\n            const track = playlist[index];\n            \n            if (isNWjs) {\n                // NW.js - –∏—Å–ø–æ–ª—å–∑—É–µ–º –ø—Ä—è–º–æ–π –ø—É—Ç—å\n                audioPlayer.src = track.path;\n            } else {\n                // –ë—Ä–∞—É–∑–µ—Ä - –∏—Å–ø–æ–ª—å–∑—É–µ–º Object URL\n                audioPlayer.src = track.url;\n            }\n            \n            document.getElementById('currentTrack').textContent = `–°–µ–π—á–∞—Å –∏–≥—Ä–∞–µ—Ç: ${track.name}`;\n            \n            audioPlayer.play().catch(e => {\n                console.error('–û—à–∏–±–∫–∞ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è:', e);\n            });\n            \n            renderPlaylist();\n        }\n\n        function playPause() {\n            if (audioPlayer.paused) {\n                if (currentTrackIndex === -1 && playlist.length > 0) {\n                    playTrack(0);\n                } else {\n                    audioPlayer.play();\n                }\n            } else {\n                audioPlayer.pause();\n            }\n        }\n\n        function previous() {\n            if (playlist.length === 0) return;\n            let newIndex = currentTrackIndex - 1;\n            if (newIndex < 0) newIndex = playlist.length - 1;\n            playTrack(newIndex);\n        }\n\n        function next() {\n            if (playlist.length === 0) return;\n            let newIndex = currentTrackIndex + 1;\n            if (newIndex >= playlist.length) newIndex = 0;\n            playTrack(newIndex);\n        }\n\n        function setVolume(volume) {\n            audioPlayer.volume = volume;\n        }\n\n        function removeTrack(index) {\n            if (!isNWjs) {\n                // –í –±—Ä–∞—É–∑–µ—Ä–µ –æ—Å–≤–æ–±–æ–∂–¥–∞–µ–º URL\n                if (playlist[index].url) {\n                    URL.revokeObjectURL(playlist[index].url);\n                }\n            }\n            \n            playlist.splice(index, 1);\n            \n            if (currentTrackIndex === index) {\n                currentTrackIndex = -1;\n                audioPlayer.src = '';\n                document.getElementById('currentTrack').textContent = '–í—ã–±–µ—Ä–∏—Ç–µ —Ç—Ä–µ–∫ –¥–ª—è –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è';\n            } else if (currentTrackIndex > index) {\n                currentTrackIndex--;\n            }\n            \n            savePlaylist();\n            renderPlaylist();\n        }\n\n        function clearPlaylist() {\n            if (confirm('–û—á–∏—Å—Ç–∏—Ç—å –≤–µ—Å—å –ø–ª–µ–π–ª–∏—Å—Ç?')) {\n                if (!isNWjs) {\n                    // –í –±—Ä–∞—É–∑–µ—Ä–µ –æ—Å–≤–æ–±–æ–∂–¥–∞–µ–º –≤—Å–µ URL\n                    playlist.forEach(track => {\n                        if (track.url) {\n                            URL.revokeObjectURL(track.url);\n                        }\n                    });\n                }\n                \n                playlist = [];\n                currentTrackIndex = -1;\n                audioPlayer.src = '';\n                document.getElementById('currentTrack').textContent = '–í—ã–±–µ—Ä–∏—Ç–µ —Ç—Ä–µ–∫ –¥–ª—è –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è';\n                savePlaylist();\n                renderPlaylist();\n            }\n        }\n\n        // –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ø–ª–µ–π–ª–∏—Å—Ç–∞\n        function savePlaylist() {\n            try {\n                if (isNWjs) {\n                    // NW.js - —Å–æ—Ö—Ä–∞–Ω—è–µ–º –≤ —Ñ–∞–π–ª\n                    const fs = require('fs');\n                    const path = require('path');\n                    const appDir = nw.App.dataPath;\n                    \n                    if (!fs.existsSync(appDir)) {\n                        fs.mkdirSync(appDir, { recursive: true });\n                    }\n                    \n                    const playlistFile = path.join(appDir, 'playlist.json');\n                    \n                    // –°–æ—Ö—Ä–∞–Ω—è–µ–º —Ç–æ–ª—å–∫–æ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ (–±–µ–∑ —Ñ–∞–π–ª–æ–≤)\n                    const playlistData = playlist.map(track => ({\n                        type: track.type,\n                        path: track.path,\n                        name: track.name,\n                        duration: track.duration\n                    }));\n                    \n                    fs.writeFileSync(playlistFile, JSON.stringify(playlistData, null, 2));\n                } else {\n                    // –ë—Ä–∞—É–∑–µ—Ä - —Å–æ—Ö—Ä–∞–Ω—è–µ–º –≤ localStorage\n                    const playlistData = playlist.map(track => ({\n                        type: track.type,\n                        name: track.name,\n                        duration: track.duration,\n                        // –í –±—Ä–∞—É–∑–µ—Ä–µ –Ω–µ —Å–æ—Ö—Ä–∞–Ω—è–µ–º —Ñ–∞–π–ª—ã, —Ç–æ–ª—å–∫–æ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ\n                    }));\n                    localStorage.setItem('audioPlaylist', JSON.stringify(playlistData));\n                }\n            } catch (error) {\n                console.error('–û—à–∏–±–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è:', error);\n            }\n        }\n\n        // –ó–∞–≥—Ä—É–∑–∫–∞ –ø–ª–µ–π–ª–∏—Å—Ç–∞\n        function loadPlaylist() {\n            try {\n                if (isNWjs) {\n                    const fs = require('fs');\n                    const path = require('path');\n                    const appDir = nw.App.dataPath;\n                    const playlistFile = path.join(appDir, 'playlist.json');\n                    \n                    if (fs.existsSync(playlistFile)) {\n                        const data = fs.readFileSync(playlistFile, 'utf8');\n                        playlist = JSON.parse(data);\n                    }\n                } else {\n                    const saved = localStorage.getItem('audioPlaylist');\n                    if (saved) {\n                        const savedData = JSON.parse(saved);\n                        // –í –±—Ä–∞—É–∑–µ—Ä–µ —Ñ–∞–π–ª—ã –Ω–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –º–µ–∂–¥—É —Å–µ—Å—Å–∏—è–º–∏\n                        playlist = savedData;\n                    }\n                }\n            } catch (error) {\n                console.error('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏:', error);\n            }\n            \n            renderPlaylist();\n        }\n\n        // –û—Ç—Ä–∏—Å–æ–≤–∫–∞ –ø–ª–µ–π–ª–∏—Å—Ç–∞\n        function renderPlaylist() {\n            const playlistElement = document.getElementById('playlist');\n            const trackCount = document.getElementById('trackCount');\n            \n            trackCount.textContent = playlist.length;\n            \n            if (playlist.length === 0) {\n                playlistElement.innerHTML = '<div style=\"padding: 20px; text-align: center; color: #666;\">–ü–ª–µ–π–ª–∏—Å—Ç –ø—É—Å—Ç. –î–æ–±–∞–≤—å—Ç–µ –º—É–∑—ã–∫—É!</div>';\n                return;\n            }\n            \n            playlistElement.innerHTML = playlist.map((track, index) => `\n                <div class=\"track-item ${index === currentTrackIndex ? 'playing' : ''}\" \n                     onclick=\"playTrack(${index})\">\n                    <div>\n                        üéµ ${track.name}\n                        <br>\n                        <small style=\"color: #666;\">${track.duration} ‚Ä¢ ${isNWjs ? track.path : '–±—Ä–∞—É–∑–µ—Ä'}</small>\n                    </div>\n                    <button class=\"delete-btn\" onclick=\"event.stopPropagation(); removeTrack(${index})\">\n                        –£–¥–∞–ª–∏—Ç—å\n                    </button>\n                </div>\n            `).join('');\n        }\n\n        function exportPlaylist() {\n            const playlistData = {\n                info: \"–≠–∫—Å–ø–æ—Ä—Ç –ø–ª–µ–π–ª–∏—Å—Ç–∞\",\n                date: new Date().toISOString(),\n                environment: isNWjs ? \"NW.js\" : \"–ë—Ä–∞—É–∑–µ—Ä\",\n                tracks: playlist.map(track => ({\n                    name: track.name,\n                    duration: track.duration,\n                    type: track.type\n                }))\n            };\n            \n            const dataStr = JSON.stringify(playlistData, null, 2);\n            const blob = new Blob([dataStr], { type: 'application/json' });\n            const url = URL.createObjectURL(blob);\n            \n            const a = document.createElement('a');\n            a.href = url;\n            a.download = 'my-playlist-export.json';\n            a.click();\n            URL.revokeObjectURL(url);\n        }\n\n        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞\n        audioPlayer.addEventListener('timeupdate', function() {\n            const progressBar = document.getElementById('progressBar');\n            const currentTime = document.getElementById('currentTime');\n            const duration = document.getElementById('duration');\n            \n            if (audioPlayer.duration) {\n                const progress = (audioPlayer.currentTime / audioPlayer.duration) * 100;\n                progressBar.value = progress;\n                currentTime.textContent = formatTime(audioPlayer.currentTime);\n                duration.textContent = formatTime(audioPlayer.duration);\n                \n                // –û–±–Ω–æ–≤–ª—è–µ–º –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –≤ —Ç–µ–∫—É—â–µ–º —Ç—Ä–µ–∫–µ\n                if (currentTrackIndex >= 0 && playlist[currentTrackIndex]) {\n                    playlist[currentTrackIndex].duration = formatTime(audioPlayer.duration);\n                }\n            }\n        });\n\n        // –ü–µ—Ä–µ–º–æ—Ç–∫–∞ –ø–æ –∫–ª–∏–∫—É –Ω–∞ –ø—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä\n        document.getElementById('progressBar').addEventListener('input', function() {\n            if (audioPlayer.duration) {\n                audioPlayer.currentTime = (this.value / 100) * audioPlayer.duration;\n            }\n        });\n\n        function formatTime(seconds) {\n            if (isNaN(seconds)) return '0:00';\n            const mins = Math.floor(seconds / 60);\n            const secs = Math.floor(seconds % 60);\n            return `${mins}:${secs.toString().padStart(2, '0')}`;\n        }\n\n        // –ì–æ—Ä—è—á–∏–µ –∫–ª–∞–≤–∏—à–∏\n        document.addEventListener('keydown', function(e) {\n            if (e.code === 'Space') {\n                e.preventDefault();\n                playPause();\n            } else if (e.code === 'ArrowRight') {\n                next();\n            } else if (e.code === 'ArrowLeft') {\n                previous();\n            }\n        });\n\n        // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ø—Ä–∏ –∑–∞–∫—Ä—ã—Ç–∏–∏\n        window.addEventListener('beforeunload', function() {\n            savePlaylist();\n        });\n\n        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è\n        detectEnvironment();\n        loadPlaylist();\n    </script>\n</body>\n</html>",true,"","fullscreen; autoplay; encrypted-media",false,"allow-scripts"],""]],[],0,true,false,false,[]]],[],[]]],[["–°–ø–∏—Å–æ–∫ —Å–æ–±—ã—Ç–∏–π 1",[]]],[],"media/",false,1920,1080,4,false,"trilinear",false,"1.0.0.0",false,false,4,2,3,false,true,1,true,0.7853981633974483,[],"icons/",[],"normalized","3quh8uv67wo","fonts/",[["–®–∫–∞–ª–∞ 1",5,0.1,"default","default",[],0,0,1,"",1,1]],"high-performance",[],1760901851163,"vsync","com.Music.test","icons/–ò–∫–æ–Ω–∫–∞-–∑–∞–≥—Ä—É–∑–∫–∏.png",false,4,false,null,[],"folders",1,10000,false,[["–ë–ª–æ–∫-—Å—Ö–µ–º–∞ 1",[]]],"auto"]}